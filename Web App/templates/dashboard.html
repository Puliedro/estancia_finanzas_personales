
{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        /* Simple navigation bar styling */
        nav ul {
            list-style-type: none;
            padding: 0;
        }
        nav ul li {
            display: inline;
            margin-right: 10px;
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<div>
    <h1>Personal Finance Manager</h1>
    <ul class="list-group mb-4">
        <li class="list-group-item">Welcome! In this dashboard, you will find relevant data that can help you understand your finances better, save, and invest.</li>
        <li class="list-group-item">To keep track of your transactions, go to the <a href="{{ url_for('transactions') }}">transactions page</a>.</li>
        <li class="list-group-item">To add a new transaction, go to the <a href="{{ url_for('upload_transactions') }}">Add Transaction page</a>.</li>
        <li class="list-group-item">To add previous transactions found in your bank statements, go to the <a href="{{ url_for('upload_bank_statement') }}">Upload Bank Statement page</a>.</li>
    </ul>
</div>

<div id="financial-recommendations" class="container mb-4">
    <ul class="list-group">
        <li class="list-group-item">Given your financial practices, it is recommended to have at least <b>MXN {{ '%.2f'|format(fondo_emergencia) }}</b> for emergency funds.</li>
        <li class="list-group-item">Given your income and expenses ratio, it is recommended you dedicate <b>MXN {{ '%.2f'|format(excedente_invertir) }}</b> of your savings to invest.</li>
    </ul>
</div>
<div id="line-chart">
        {{ line_plot_html|safe }}
</div>
    <!-- Income and Expenses Pie Charts -->
<div id="pie-charts">
        {{ pie_plot_html|safe }}
</div>
<div>
    <h2>Expense Forecast for Next 12 Months</h2>
    <img src="data:image/png;base64,{{ expense_plot_url }}" alt="Expense Forecast" class="img-fluid">
</div>
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h2>Expense Distribution by Category</h2>
            <img src="data:image/png;base64,{{ expense_distribution }}" alt="Expense Distribution" class="img-fluid">
        </div>
        <div class="col-md-6">
            <h2>Monthly Income vs Expenses</h2>
            <img src="data:image/png;base64,{{ monthly_income_expenses }}">
        </div>
    </div>
</div>


<!-- Render the fondo_emergencia and excedente_invertir recommendations -->





</body>
</html>
{% endblock %}
